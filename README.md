# Мессенджер

## Описание
Мессенджер с backend на Spring Boot и frontend на React. Позволяет пользователям обмениваться сообщениями в реальном времени.

## Архитектура
**Микросервисы:**
- `user-service` - управление пользователями
- `chat-service` - обработка сообщений
- `discovery-service` - регистрация сервисов
- `gateway-service` - API Gateway

**Технологии:**
- **Базы данных:**
  - MongoDB - хранение сообщений
  - PostgreSQL - хранение пользователей
  - Redis - кэш и pub/sub для сообщений

- **Инфраструктура:**
  - Keycloak - аутентификация (JWT + refresh токены)
  - Kafka - обработка событий
  - Grafana Stack (Grafana, Tempo, Victoria Metrics) - мониторинг
  - Docker

## Особенности
- Реализован паттерн Saga для согласованности данных
- WebSocket для сообщений в реальном времени
- Гибридное хранение пользователей (Keycloak + PostgreSQL)

## Инструкция по запуску
1. Клонировать репозиторий командой git clone
2. Импортировать образ keycloak
3. Зайти в корневую папку в терминале и выполнить команду docker compose -f docker/docker-compose-prod.yml up -d

## Инструкция по эксплуатации
1. Сначала пользователь будет перенаправлен на страницу /welcome, где ему будет предложено зарегистрироваться(sign up) после успешной регистрации можно перейти к странице логина(sign in) и, введя свои учетный данные, войти в аккаунт.
2. После входа пользователь будет находится на странице /home - основной странице мессенджера. Там в строке поиска он может найти пользователя с которым хочет начать диалог, нажать на 3 точки и далее на кнопку создать чат.
В высветившемся чате вы можете начать обмен сообщениями.

Также приложение предоставляет дополнительный функционал при нажатии на 3 полоски в левом верхнем углу. После нажатия откроет side-bar где можно посмотреть свой профиль или выйти из аккаунта или же поменять тему в настройках.
## Дополнительно
- для просмотра метрик в grafana можно перейти по адресу http://localhost:3000, а для визуализации брокера kafka http://localhost:8989
  
